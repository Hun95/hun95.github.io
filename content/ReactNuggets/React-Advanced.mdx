---
title: 'React Advanced'
date: 2020-12-22 09:57:47
subtitle: 'Î¶¨ÏóëÌä∏ useState, useEffect Îì± Í≥†Í∏â Í∏∞Ïà†Ïóê ÎåÄÌï¥ Î∞∞ÏõåÎ¥ÖÏãúÎã§.'
tags: ['react']
---

# üöÄ Overview

# üöÄ UseStateÍ∞Ä ÌïÑÏöîÌïú Ïù¥Ïú†

```jsx
import React from 'react';

const ErrorExample = () => {
  let title = 'random title';
  const handleClick = () => {
    title = 'hello people';
    console.log(title);
  };
  return (
    <React.Fragment>
      <h2>{title}</h2>
      <button type='button' className='btn' onClick={handleClick}>
        change title
      </button>
    </React.Fragment>
  );
};

export default ErrorExample;
```

Ïù¥Îü¨Ìïú Í≤ΩÏö∞Ïóê Î≤ÑÌäºÏùÑ ÎàåÎ†ÄÏùÑ Îïå  
handleClick Ìï®ÏàòÍ∞Ä Ïã§ÌñâÎêòÎ©¥ÏÑú title = hello peopleÎ°ú Î∞îÎÄî Í≤É Í∞ôÏßÄÎßå
Í∑∏Î†áÏßÄ ÏïäÎã§. Î¶¨ÏóëÌä∏ÏóêÏÑúÎäî Ìä∏Î¶¨Í±∞Î•º Ïù¥Ïö©Ìï¥ÏÑú Î¶¨ÎûúÎçîÎßÅ ÌïúÎã§.
== UseState Ìï®Ïàò from 'react' Íº≠ {} Ïª¨Î¶¨ Î∏åÎ†àÏù¥Ïä§Î•º ÏÇ¨Ïö©Ìï¥Ïïº ÌïúÎã§.

```console
console.log(useState);
// Ìï®ÏàòÏûÑÏùÑ Ïïå Ïàò ÏûàÎã§.
console.log(useState());
// [undefined, f]
```

useStateÎäî Ìï®ÏàòÍ∞Ä undefinedÎ•º Ï†úÏñ¥ÌïúÎã§
useStateÎäî Î¨∏ÏûêÏó¥, Ïà´Ïûê Îì± Î≠êÎì† Îê† Ïàò ÏûàÎã§. boolean Ïù¥ÎÇò Î≠êÎì†
useStateÎäî Î∞∞Ïó¥Íµ¨Ï°∞Îã§.

```console
  console.log(useState('hello world'));
      ["hello world", f]
      ["hello world", f]
  const value = useState(1)[0];
  const handler = useState(1)[1];
  console.log(value, handler);

  1 f
  1 f
```

Ïù¥Î•º ÌÜµÌï¥ useState parentheses () ÏïàÏóê
Í∞íÏùÑ ÎÑ£ÏúºÎ©¥ Í∞í, Ìï®ÏàòÍ∞Ä Î∞òÌôòÎê®ÏùÑ Ïïå Ïàò ÏûàÎã§.
Í∑∏Î†áÎã§Î©¥

const [value, setValue] = useState('1');
ÏùÄ Î≠êÍ∞Ä Î∞òÌôòÎê†Íπå?
ÏïÑÍπå Ï†ÑÏóê undefined, f ÏóêÏÑú fÏùò Ïó≠Ìï†ÏùÄ
undefinedÎ•º Î∞îÍøîÏ£ºÎäî Ïó≠Ìï†Ïù¥ÎùºÍ≥† ÌñàÎã§.
Í∑∏Î†áÎã§Î©¥ Î∞©Í∏à constÏóêÏÑúÎäî
value = 1 Ïù¥Í≥†
setValueÎäî 1 Í∞íÏùÑ Ï¶â valueÍ∞íÏùÑ Î∞îÍøîÏ£ºÎäî Ìï®ÏàòÎùºÍ≥† ÏÉùÍ∞ÅÌïòÎ©¥ ÎêòÍ≤†Îã§.

```jsx
import React, { useState } from 'react';

const UseStateBasics = () => {
  // console.log(useState('hello world'));
  // const value = useState(1)[0];
  // const handler = useState(1)[1];
  // console.log(value, handler);
  const [text, setText] = useState('11');
  const handleClick = () => {
    if (text === '11') {
      setText('hello world');
    } else {
      setText('11');
    }
  };
  return (
    <React.Fragment>
      {text}
      <button className='btn' onClick={handleClick}>
        change title
      </button>
    </React.Fragment>
  );
};

export default UseStateBasics;
```

ÏòàÏ†úÎ•º Î≥∏Îã§Î©¥
text = 11Ïù¥Í≥†
setTextÎäî textÎ•º Î∞îÍøîÏ£ºÎäî Ìï®ÏàòÎã§.
Î∞îÍøÄ ÎïåÏóêÎäî setTextÎäî useStateÏôÄ ÎèôÏùºÌïú Í∏∞Îä•ÏùÑ ÌïúÎã§.
text ===11 Ïù¥Î©¥ textÎ•º hello worldÎ°ú Î∞îÍæ∏Í≥†
ÏïÑÎãàÎ©¥ 11Î°ú Î∞îÍøîÎùº ÎùºÎäî ÎúªÏù¥Îã§.

use
component name must be uppercase
must be in the function /component body
cannot call conditionally

# üöÄ useState array

```jsx
import React, { useState } from 'react';
import { data } from '../../../data';

const UseStateArray = () => {
  const [people, setPeople] = useState(data);
  const removeItem = id => {
    let newPeople = people.filter(person => person.id !== id);
    console.log(newPeople);
    setPeople(newPeople);
  };
  return (
    <>
      {people.map(person => {
        const { id, name } = person;
        return (
          <div key={id} className='item'>
            <h4>{name}</h4>
            <button onClick={() => removeItem(id)}>remove</button>
          </div>
        );
      })}
      <button className='btn' onClick={() => setPeople([])}>
        clear all
      </button>
    </>
  );
};

export default UseStateArray;
```

Ïù¥ Î°úÏßÅÏùÄ mapÌï®ÏàòÎ•º ÌÜµÌï¥ dataÏóê Í∞íÏùÑ invoke ÌïòÍ≥†  
invokeÎêú Í∞íÏùÑ filterÌï®ÏàòÎ•º Ïù¥Ïö©Ìï¥ ÌïòÎÇòÏî© removeÌïòÎäî ÏûëÏóÖÏù¥Îã§.

# üöÄ useState Object

```jsx
import React, { useState } from 'react';

const UseStateObject = () => {
  const [person, setPerson] = useState({
    name: 'sehun',
    age: 26,
    message: 'hello world',
  });
  const changeMessage = () => {
    setPerson({ ...person, message: 'hi' });
  };
  return (
    <>
      <h3>{person.name}</h3>
      <h3>{person.age}</h3>
      <h3>{person.message}</h3>
      <button onClick={changeMessage} type='button'>
        Change
      </button>
    </>
  );
};

export default UseStateObject;
```

...personÏùÑ ÌÜµÌï¥ÏÑú personÏùò Í∞íÏùÑ Í∑∏ÎåÄÎ°ú Í∞ÄÏ†∏Ïò§ÎäîÎç∞ messageÎßå hiÎ°ú Î∞îÍæ∏Îäî Î°úÏßÅ

# üöÄ simple counter

```jsx
import React, { useState } from 'react';

const UseStateCounter = () => {
  const [value, setValue] = useState(0);
  const reset = () => {
    setValue(0);
  };
  const complexIncrease = () => {
    setTimeout(() => {
      // setValue(value + 1);
      setValue(prevState => {
        return prevState + 1;
      });
    }, 2000);
  };
  return (
    <>
      <section style={{ margin: '4rem 0' }}>
        <h2>regular counter</h2>
        <h1>{value}</h1>
      </section>
      <button className='btn' onClick={() => setValue(value - 1)}>
        Decrease
      </button>
      <button className='btn' onClick={() => setValue(value + 1)}>
        increase
      </button>
      <button className='btn' onClick={reset}>
        reset
      </button>

      <div>
        <section style={{ margin: '4rem 0' }}>
          <h2>more complex counter</h2>
          <h1>{value}</h1>
        </section>
        <button className='btn' onClick={complexIncrease}>
          increase
        </button>
      </div>
    </>
  );
};

export default UseStateCounter;
```

Ïπ¥Ïö¥ÌÑ∞Î•º ÎßåÎìúÎäî ÏΩîÎìúÎã§
ÏµúÏ¥à valueÎ•º 0ÏúºÎ°ú ÏÑ§Ï†ïÌïú Îí§,
setValueÎ•º Ïù¥Ïö©Ìï¥ increaseÎ≤ÑÌäºÏùÑ ÎàÑÎ•¥Î©¥ +1 ÎêòÍ≤åÎÅî setValue(value + 1 )
DecreaseÎèÑ ÎßàÏ∞¨Í∞ÄÏßÄÎ°ú ÌïòÎ©¥ ÎêúÎã§.
resetÏùÄ setValue(0) ÏùÑ ÌÜµÌï¥ valueÎ•º Ï¥àÍ∏∞ÌôîÌï¥Ï£ºÎ©¥ ÎêúÎã§.

##### BUT

ÏßÄÍ∏à ÏµúÏ¥àÏùò ÏÑ§Ï†ïÎåÄÎ°ú ÌïúÎã§Î©¥ Î¨∏Ï†úÍ∞Ä ÏÉùÍ∏¥Îã§.  
ÏòàÎ•ºÎì§Ïñ¥, setTimeout Ïù¥ÎùºÎäî Ìï®ÏàòÏóê

```jsx
const complexIncrease = () => {
  setTimeout(() => {
    setValue(value + 1);
  }, 2000);
};
```

Ïù¥Îü¨Ìïú ÏÉÅÌô©Ïù¥ÎùºÎ©¥,
2Ï¥àÎèôÏïà ÏïÑÎ¨¥Î¶¨ complexIncreaseÎ≤ÑÌäºÏùÑ ÎàåÎü¨ÎèÑ Ïπ¥Ïö¥Ìä∏Í∞Ä ÎêòÏßÄ ÏïäÎäîÎã§.  
Ïó¨Í∏∞ÏÑú Îì±Ïû•Ìïú ÎÖÄÏÑùÏù¥ prevStateÎã§

setStateÏùò Î™ÖÎ†πÏù¥ Îì§Ïñ¥ÏôÄÎèÑ ÏùºÍ¥ÑÏ†ÅÏúºÎ°ú Ï≤òÎ¶¨Ìï† ÏàòÎèÑ ÏûàÍ≥† Ï≤òÎ¶¨Î•º Ïïà Ìï† ÏàòÎèÑ ÏûàÎã§.

```jsx
const complexIncrease = () ={
  setTimeout(()=>{
    setValue((prevNumber) => {
      return prevNumber + 1
    })
  }, 2000)
}
```

Ïù¥Îü∞ÏãùÏúºÎ°ú setStateÏóê propsÎ•º ÏßÄÏ†ïÌïúÎã§.
Ïù¥ propsÎäî Í≥ºÍ±∞Ïùò Í∞íÏùÑ Í∏∞ÏñµÌïúÎã§.

```jsx
const [people, setPeople] = useState(data);
const removeItem = id => {
  let newPeople = people.filter(person => person.id !== id);
  console.log(newPeople);
  setPeople(newPeople);
};
```

```jsx
const [people, setPeople] = useState(data);
const removeItem = id => {
  setPeople(oldPeople => {
    let newPeople = oldPeope.filter(person => person.id !== id);
    return newPeople;
  });
};
```

Ïù¥Î†áÍ≤å Î∞îÎÄêÎã§.  
ÏúÑÏùò useStateÍ∞Ä Î¨∏Ï†úÏûàÏùåÏùÑ Í∞êÏßÄÌïòÍ≥†  
ÏïÑÎûòÏùò Ìï®ÏàòÎ°ú Î∞îÍøÄ Ïàò ÏûàÎäî Îä•Î†•ÏùÑ ÌÇ§ÏõåÏïº ÌïúÎã§.

# üöÄ useEffect

useEffect = ÏÇ¨Ïù¥Îìú Ïù¥ÌéôÌä∏

fetching data , event listner ,

useEffect = > Ïª¥Ìè¨ÎÑåÌä∏ Î∞ñÏóêÏÑú ÏùºÌïúÎã§.
// by default runs after every re-render
// cleanup function
// second parameter

hooks = useState useEffect
ÌõÖÏä§Îäî if Ï°∞Í±¥Î¨∏ as far as conditional ÏóêÏÑú ÏÇ¨Ïö©Ìï† Ïàò ÏóÜÎã§.

### Ï°∞Í±¥Î¨∏ÏùÑ Ïì∞Í≥† Ïã∂ÏúºÎ©¥ useEffect ÏïàÏóêÎã§Í∞Ä Ïç®Îùº

### hooksÏùò useState set Ìï®ÏàòÎèÑ useEffectÏïàÏóêÏÑú conditional ÌïòÍ≤å Ï†úÏñ¥Ìï† Ïàò ÏûàÎã§.

initial render = Ï≤òÏùå Î†åÎçî Îê† Îïå

```jsx
useEffect(() => {}, []);
```

Îß® ÎÅùÏóê [] Í¥ÑÌò∏Í∞Ä Î∂ôÏúºÎ©¥, braket Ïù¥ Î∂ôÏúºÎ©¥
Ï≤òÏùå ÎûúÎçî ÏãúÏóêÎßå useEffectÍ∞Ä Ïã§ÌñâÎêúÎã§.

braketÏù¥ ÏóÜÏúºÎ©¥, Ìï≠ÏÉÅ renderÎêúÎã§. Í∞ÄÏû•Ï§ëÏöî

Í∑∏Î†áÎã§Î©¥ Ï≤òÏùåÏóêÎßå ÎûúÎçîÎêòÍ≥† Î≠îÍ∞ÄÍ∞Ä Î∞îÎÄåÍ≤å Ìï† Ïàò ÏóÜÏùÑÍπå?

[] ÏïàÏóêÎã§Í∞Ä ÏõêÌïòÎäî useState Ï¶â
const [value, setValue] = useState()
ÎùºÎ©¥ [] ÏïàÏóêÎã§Í∞Ä value Í∞íÏùÑ ÎÑ£ÏúºÎ©¥
valueÍ∞Ä Î∞îÎÄî ÎïåÎßàÎã§, ( rerendering) Îê† ÎïåÎßàÎã§
useEffectÍ∞Ä Ïã§ÌñâÎêúÎã§.

[]Î•º ÏÑ§Ï†ïÌïòÍ≥† [] Ïóê Í∞íÏùÑ ÎÑ£ÏßÄ ÏïäÎäîÎã§Î©¥ Ï≤òÏùåÏóêÎßå ÎûúÎçîÎßÅ ÎêúÎã§Îäî Ï†ê Íº≠ Í∏∞ÏñµÌïòÏûê

# üöÄ Clean up function

Í∞ÄÏû• Ï§ëÏöîÌïòÎã§ !!

useEffectÎ•º ÏÇ¨Ïö©ÌñàÏùÑ ÎïåÎäî Î¨¥Ï°∞Í±¥ cleanupÏùÑ Ìï¥Ï§òÏïº ÌïúÎã§
ÏôúÎÉêÌïòÎ©¥ ÌîÑÎ°úÏ†ùÌä∏Í∞Ä Ïª§ÏßÄÎ©¥, eventlistner Í∞Ä ÎßéÏïÑÏßàÏàòÎ°ù mass up ÎêòÍ∏∞ ÎïåÎ¨∏Ïù¥Îã§.
Í∑∏Î†áÍ∏∞ ÎïåÎ¨∏Ïóê Ïù¥Î≤§Ìä∏ Î¶¨Ïä§ÎÑàÎäî ÏµúÏÜåÌïúÏúºÎ°ú Ïã§ÌñâÏãúÏºúÏïº ÌïúÎã§.

addEventlistnerÏùÑ Ïã§ÌñâÌñàÏúºÎ©¥ Î¨¥Ï°∞Í±¥ removeEventListnerÏùÑ Ìï¥Ï§òÏïº ÌïúÎã§.

```jsx
import React, { useState, useEffect } from 'react';

// cleanup function
// second argument

const UseEffectCleanup = () => {
  const [size, setSize] = useState(window.innerWidth);

  const checkSize = () => {
    setSize(window.innerWidth);
  };

  useEffect(() => {
    console.log('useEffect');
    window.addEventListener('resize', checkSize);
    return () => {
      console.log('cleanup');
      window.removeEventListener('resize', checkSize);
    };
  }, []);
  console.log('render');
  return (
    <>
      <h1>window</h1>
      <h2>{size} PX</h2>
    </>
  );
};

export default UseEffectCleanup;
```

useEffect Îß® ÎÅù Î∂ÄÎ∂ÑÏóê [] Î•º ÎÑ£ÏúºÎ©¥ ÏµúÏ¥àÏóêÎßå useEffectÍ∞Ä Ïã§ÌñâÎêúÎã§Í≥† ÌñàÎã§.
useState ÏïàÏóê ÏûêÎ∞îÏä§ÌÅ¨Î¶ΩÌä∏Í∞Ä Îì§Ïñ¥Í∞ÄÎäî ÏßÄÎäî Ï≤òÏùå ÏïåÏïòÎã§..
Event Listner ÏùÑ Í≥µÎ∂ÄÎ•º Îçî Ìï¥ÏïºÍ≤†Îã§.

https://developer.mozilla.org/ko/docs/Web/Events

### Î≤àÏô∏ scroll Ïù¥Î≤§Ìä∏

# üöÄ Multiple return

```jsx
import React, { useState, useEffect } from 'react';
const url = 'https://api.github.com/users/QuincyLarson';
const MultipleReturns = () => {
  const [isLoading, setIsLoading] = useState(true);
  const [isError, setIsError] = useState(false);
  const [user, setUser] = useState('default user');

  useEffect(() => {
    fetch(url)
      .then(resp => {
        if (resp.status >= 200 && resp.status <= 299) {
          return resp.json();
        } else {
          setIsLoading(false);
          setIsError(true);
          throw new Error(resp.statusText);
        }
      })
      .then(user => {
        const { login } = user;
        setUser(login);
        setIsLoading(false);
      })
      .catch(error => console.log(error));
  }, []);

  if (isLoading) {
    return (
      <div>
        <h1>Loading...</h1>
      </div>
    );
  }
  if (isError) {
    return (
      <div>
        <h1>Error....</h1>
      </div>
    );
  }
  return (
    <div>
      <h1>{user}</h1>
    </div>
  );
};

export default MultipleReturns;
```

ÏΩîÎìúÎ•º Î≥¥ÏûêÎ©¥, Ïö∞ÏÑ† apiÎ•º ÏÑ†Ïñ∏ÌïòÍ≥†
fetchÌïú Îã§ÏùåÏóê 200~ 300 Íµ¨Í∞ÑÏù¥ responseÏù∏Îç∞ Í∑∏Î†áÎã§Î©¥ Ï†úÏù¥Ïä® ÌòïÌÉúÎ°ú return Ìï¥Ï£ºÍ≥†
ÏïÑÎãàÎ©¥ loading Ï∞ΩÏùÑ ÏóÜÏï†Í≥† errorÏ∞ΩÏùÑ ÎÇ¥Î≥¥ÎÇ∏Îã§.
new Error(something) ÏùÑ ÌïòÎÇò Error(something)ÏùÑ ÌïòÎÇò Í∞ôÎã§
Î≥¥ÌÜµ ÏóêÎü¨Î•º ÎçòÏßà ÎïåÎäî throwÏùÑ ÏÇ¨Ïö©ÌïúÎã§.
ÏóêÎü¨ ÏïàÏóê resp.statusText Îäî ÏóêÎü¨ ÏÉÅÌÉúÎ•º ÎÇòÌÉÄÎÇ∏Îã§.

Ïù¥Í≤å ÏûêÎãàÍ∞ÄÍ≥† ÎßåÏïΩÏóê Îç∞Ïù¥ÌÑ∞Î•º Ï†ïÏÉÅÏ†ÅÏúºÎ°ú Í∞ÄÏ†∏ÏôîÎã§Í≥† ÏπòÎ©¥,  
Îç∞Ïù¥ÌÑ∞Î•º ÎøåÎ†§Ï§òÏïº ÌïúÎã§.
userÎùºÎäî Î≥ÄÏàòÏïàÏóê Îã¥ÎäîÎç∞, user.loginÏùò Ï†ïÎ≥¥Î•º Í∞ÄÏ†∏Ïò§Í≥† Ïã∂Îã§.
Í∑∏ Îã§ÏùåÏóê setUserÎ°ú userÏïàÏóê Îã¥ÎäîÎã§
Í∑∏Î¶¨Í≥† Î†åÎçîÎßÅÎê†Îïå ÎÇòÌÉÄÎÇº Îç∞Ïù¥ÌÑ∞Î•º return ÏïàÏóêÎã§ ÏûëÏÑ±ÌïúÎã§.

# üöÄ short- circuit evaluation

```jsx
import React, { useState } from 'react';
// short-circuit evaluation
// ternary operator

const ShortCircuit = () => {
  const [text, setText] = useState('');
  const [isError, setIsError] = useState(false);
  // const firstValue = text || 'hello world';
  // const secondValue = text && 'hello world';

  return (
    <>
      {/* <h1>{firstValue}</h1>
      <h1>value : {secondValue}</h1> */}
      <h1>{text || 'john doe'}</h1>
      <button
        className='btn'
        onClick={() => {
          setIsError(!isError);
        }}
      >
        toggle error
      </button>
      {isError && <h1>Error ...</h1>}
      {isError ? <p>there</p> : <p>hello</p>}
    </>
  );
};

export default ShortCircuit;
```

Ïö∞ÏÑ†ÏùÄ react ÎÇ¥ÏóêÏÑúÎäî ifÎ¨∏ÏùÑ ÏÇ¨Ïö©Ìï† Ïàò ÏóÜÎã§Í≥† ÌïúÎã§.
Í∑∏Î†áÍ∏∞Ïóê ? : => ternary operatorÏùÑ Ïù¥Ïö©ÌïòÍ±∞ÎÇò short-circuitÏùÑ Ïù¥Ïö©Ìï¥ÏÑú
and or ÏùÑ ÏûëÏÑ±ÌïòÎ©¥ ÎêúÎã§.
Ïó¨Í∏∞ÏÑú Ïã†Í∏∞ÌñàÎçò Ï†êÏùÄ
ÌòÑÏû¨ isErrorÍ∞Ä falseÏù∏Îç∞
ÌÅ¥Î¶≠ÌñàÏùÑ Îïå isErrorÏùò Î∞òÎåìÍ∞íÏúºÎ°ú setÌïòÎäî Í±∏ ÌïòÎãà
toggleÏù¥ ÏôÑÏÑ±ÎêêÎã§.
setIsErrorÏóêÎã§Í∞Ä trueÎÑ£ÏúºÎ©¥ ÌïúÎ≤àÎàÑÎ•¥Î©¥ Í≥†Ï†ïÎêòÍ≥†
!isErrorÏùÑ ÎÑ£ÏúºÎ©¥ StateÏùò Î∞òÎåìÍ∞íÏúºÎ°ú Î∞îÎÄêÎã§ .

# üöÄ Show - hide

```jsx
import React, { useState, useEffect } from 'react';

const ShowHide = () => {
  const [show, setShow] = useState(false);
  return (
    <>
      <button className='btn' onClick={() => setShow(!show)}>
        Show / Hide
      </button>
      {show && <Item />}
    </>
  );
};

const Item = () => {
  const checkSize = () => {
    setSize(window.innerWidth);
  };
  const [size, setSize] = useState(window.innerWidth);
  useEffect(() => {
    window.addEventListener('resize', checkSize);
    // return () => {
    //   window.removeEventListener('resize', checkSize);
    // };
  }, []);

  return (
    <div style={{ marginTOp: '2rem' }}>
      <h1>windows</h1>
      <h2>size : {size} </h2>
    </div>
  );
};
export default ShowHide;
```

Ïù¥Ï†ÑÏóêÎäî useEffect Îí§Ïóê [] Î•º ÎÑ£ÏóàÏùÑ Îïå resizeÍ∞Ä ÎêòÎèÑ renderÍ∞Ä ÏïàÎêêÏßÄÎßå,
ÏßÄÍ∏àÏùÄ ÎêúÎã§ Ïù¥Ïú†Îäî, resizeÍ∞Ä ÌÜ†Í∏ÄÏùÑ ÎàåÎ†ÄÏùÑ ÎïåÎèÑ Î≥ÄÌïòÍ∏∞ ÎñÑÎ¨∏Ïù¥Îã§.
Í∑∏Î†áÍ∏∞ ÎñÑÎ¨∏Ïóê clear functionÏùÑ Íº≠ ÏûëÏÑ±Ìï¥Ï§òÏïº ÌïúÎã§.
addEventListenerÍ∞Ä ÏôîÏúºÎ©¥ removeEventListener Í∞Ä Íº≠ ÏôÄÏïº ÌïúÎã§.

# üöÄ Form

```jsx
import React, { useState } from 'react';
// JS
// const input = document.getElementById('myText');
// const inputValue = input.value
// React
// value, onChange

const ControlledInputs = () => {
  const handleSubmit = e => {
    console.log('hi');
  };
  return (
    <>
      <article>
        <form className='form' onSubmit={handleSubmit}>
          <div className='form-control'>
            <label htmlFor='firstName'>Name : </label>
            <input type='text' id='firstName' name='firstName' />
          </div>
          <div className='form-control'>
            <label htmlFor='firstName'>Email : </label>
            <input type='text' id='email' name='email' />
          </div>
          <button type='submit'>add Person</button>
        </form>
      </article>
    </>
  );
};

export default ControlledInputs;
```

ÌòÑÏû¨ ÏÉÅÌô©ÏóêÏÑú button ÏùÑ ÎàåÎü¨ÎèÑ console.logÏóê Î≠îÍ∞ÄÍ∞Ä Îú®ÏßÄ ÏïäÎäîÎã§
Îú®ÏßÄ ÏïäÎäî Í±¥ ÏïÑÎãàÍ≥† Î¶¨Î°úÎî©ÎêòÎ©¥ÏÑú ÏóÜÏñ¥ÏßÄÎäî Í±∞Îã§.

```jsx
const handleSubmit = e => {
  e.preventDefault();
  console.log('hi');
};
```

e.preventDefault() Î•º ÎÑ£Ïñ¥Ï£ºÎ©¥ Î¶¨Î°úÎî©ÎêòÎäî Í±∏ ÎßâÏïÑÏ§ÄÎã§.
Í∑∏Î†áÍ∏∞ ÎïåÎ¨∏Ïóê consoleÏóê Î°úÍ∑∏Í∞Ä Îú¨Îã§

```jsx
import React, { useState } from 'react';
// JS
// const input = document.getElementById('myText');
// const inputValue = input.value
// React
// value, onChange
const ControlledInputs = () => {
  const [name, setName] = useState('');
  const [email, setEmail] = useState('');
  const [people, setPeople] = useState([]);
  const handleForm = e => {
    e.preventDefault();
    if (name && email) {
      const person = { name: name, email: email };
      setPeople(people => {
        return [...people, person];
      });
      setName('');
      setEmail('');
    } else {
      alert('ÏïÑÏßÅ Îçî ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî');
    }
  };

  return (
    <>
      <form onSubmit={handleForm}>
        <div>
          <label htmlFor='email'>Email : </label>
          <input
            id='email'
            type='email'
            value={email}
            onChange={e => {
              setEmail(e.target.value);
            }}
          />
        </div>
        <div>
          <label htmlFor='name'>Name : </label>
          <input
            id='name'
            type='text'
            value={name}
            onChange={e => setName(e.target.value)}
          />
          <button type='submit' style={{ display: 'block', width: '500px' }}>
            CLick
          </button>
        </div>
        <article>
          <h2>email</h2>
          <h2>name</h2>
        </article>
      </form>
    </>
  );
};
export default ControlledInputs;
```

ÏöîÍ±¥ Ï§ëÏöîÌïòÎã§.

Ïö∞ÏÑ† form input label button ÏùÑ Î®ºÏ†Ä Î∂ÑÏÑùÌï¥Î≥¥Ïûê

formÏóêÎäî onSubmitÏù¥ Îì§Ïñ¥Í∞ÄÏïº Ï†úÏ∂úÌïòÍ∏∞Í∞Ä ÎêúÎã§.
Î≥¥ÌÜµ formÏóêÎã§ ÏûëÏÑ±ÌïúÎã§. buttonÏóêÎã§Í∞Ä ÏûëÏÑ±ÌïòÍ±∞ÎÇò inputÏóêÎã§Í∞Ä ÌïòÎäî Í≤ΩÏö∞ÎèÑ ÏûàÏßÄÎßå,
Ìé∏ÏùòÏÉÅ formÏóêÎã§Í∞Ä ÌïòÎäîÍ≤å Ï¢ãÍ≤†Îã§.

labelÏùò htmlForÎäî inputÏùò idÏôÄ Ïó∞ÎèôÎêúÎã§.
ÎùºÎ≤® htmlforÏôÄ input idÍ∞Ä Í∞ôÏúºÎ©¥
ÎùºÎ≤®Ïù¥ Ïù∏Ìíã ÏòÜÏóê Î∂ôÏñ¥Î≤ÑÎ¶∞Îã§.
Ïù∏ÌíãÏùÑ Î≥¥Ïûê

type, id, name value onchangeÍ∞Ä ÏûàÎã§.
typeÏùÄ Ïñ¥Îñ§ ÌÉÄÏûÖÏù∏ÏßÄÎ•º Ï†ïÌï¥Ïïº ÎêúÎã§.
ÌÖçÏä§Ìä∏Î©¥ ÌÖçÏä§Ìä∏, Ïù¥Î©îÏùº, telÏù¥Î©¥ tel ÎπÑÎ≤àÏù¥Î©¥ password Îì±Îì±
Îã§ÏñëÌïú Í∏∞Îä•ÏùÑ ÏßÄÏõêÌïúÎã§. passwordÍ∞ôÏùÄ Í≤ΩÏö∞ÏóêÎäî ÏãúÍ∞ÅÏ†ÅÏúºÎ°ú ÏïàÎ≥¥Ïù¥Í≤å ÎßåÎì§Ïñ¥Ï£ºÎäî Í∏∞Îä•ÏùÑ Ìè¨Ìï®ÌïúÎã§.

idÎäî ÏúÑÏóêÏÑú ÏÑ§Î™ÖÌñàÍ≥†,
nameÏùÄ inputÏùò Ïù¥Î¶ÑÏù¥Îã§.
ÏûêÎ∞îÏä§ÌÅ¨Î¶ΩÌä∏ÏôÄ Ïó∞ÎèôÌï† Îïå Ï£ºÎ°ú ÏÇ¨Ïö©ÎêúÎã§Í≥† ÌïúÎã§.

valueÎäî Í∞í. useStateÏùò Íµ¨Ï°∞Î∂ÑÌï¥ Ï§ëÏóêÏÑú Í∞íÏóê Ìï¥ÎãπÎêúÎã§.
onChangeÎäî inputÏù¥ Î∞îÎÄî Îïå, Î¨¥Ïñº Ìï†Í±¥ÏßÄÎ•º Ï†ÅÏñ¥Ï§òÏïº ÌïòÎäîÎç∞
ÏßÄÍ∏à ÏÉÅÌô©ÏóêÏÑúÎäî inputÏùÑ submitÌïú Îí§Ïóê, Ïù¥Î≤§Ìä∏Î°úÎ∂ÄÌÑ∞ Í∞íÏùÑ Í∞ÄÏ†∏ÏôÄÏïº ÌïúÎã§.

Í∑∏Î¶¨Í≥† Ïù¥Î¶ÑÍ≥º Ïù¥Î©îÏùº and Ïù¥Î¶Ñ ÎëêÍ∞úÍ∞Ä Ï±ÑÏõåÏ†∏ÏûàÏùÑ Îïå ÏÑúÎ∏åÎ∞ãÏù¥ ÎêòÍ≤å Ìï†Í±∞Îã§
Í∑ºÎç∞ personÏù¥ÎùºÎäî ÎÖÄÏÑùÏùÄ firstNameÍ≥º emailÏùÑ Ïò§Î∏åÏ†ùÌä∏Î°ú Í∞ñÍ≥† ÏûàÎã§.
const person = {firstname, email}
Ïù¥Ï†ú peopleÏù¥ÎùºÎäî Î∞∞Ïó¥Ïóê Í∞ùÏ≤¥Î•º ÎÑ£Ïñ¥ Ï§ÑÍ±¥Îç∞,
Ïù¥Ï†Ñ Í∞íÏùÑ Í∑∏ÎåÄÎ°ú Ïú†ÏßÄÌïú Ï±ÑÎ°ú ÎÑ£Ïñ¥Ï§ÑÍ±∞Îã§.
[...people, person]
Í∑∏Îã§ÏùåÏóê input Ï∞ΩÏùÑ Ï¥àÍ∏∞Ìôî Ìï¥Ï§ÄÎã§.

Í∑∏Î†áÏßÄ ÏïäÏúºÎ©¥,

alertÏùÑ ÎùÑÏõåÏÑú Ï∞ΩÏùÑ Îã§ Ï±ÑÏö∞ÎùºÍ≥† ÏïåÎ†§Ï£ºÎ©¥ ÎêúÎã§.

# üöÄ Multiple Input (Î≥µÏäµ ÌïÑÏàò)

ÌòÑÏû¨ ÏúÑÏóêÏÑú ÏÇ¨Ïö©ÌïòÎçò Î∞©ÏãùÏùÄ Í∞Å Ïù∏ÌíãÎ≥ÑÎ°ú useState()Î•º ÎßåÎì§ÏóàÎã§.
ÌïòÏßÄÎßå ÏûÖÎ†•Ìï¥ÏïºÎêòÎäî inputÏ∞ΩÏù¥ ÎßéÏïÑÏßàÏàòÎ°ù Í¥ÄÎ¶¨ÌïòÍ∏∞ ÌûòÎì§Ïñ¥ÏßÄÍ∏∞ ÎïåÎ¨∏Ïóê
ÏùºÍ¥ÑÏ†ÅÏúºÎ°ú Í¥ÄÎ¶¨ÌïòÎäî Î∞©Î≤ïÏùÑ Ï†úÏãúÌïúÎã§.

```jsx
import React, { useState } from 'react';
// JS
// const input = document.getElementById('myText');
// const inputValue = input.value
// React
// value, onChange
// dynamic object keys

const ControlledInputs = () => {
  // const [firstName, setFirstName] = useState('');
  // const [email, setEmail] = useState('');
  // const [age, setAge] = useState('');
  const [person, setPerson] = useState({ firstName: '', email: '', age: '' });
  const [people, setPeople] = useState([]);
  const handleChange = e => {
    const name = e.target.name;
    const value = e.target.value;
    console.log(name, value);
  };

  const handleSubmit = e => {
    e.preventDefault();
  };
  return (
    <>
      <article>
        <form className='form'>
          <div className='form-control'>
            <label htmlFor='firstName'>Name : </label>
            <input
              type='text'
              id='firstName'
              name='firstName'
              value={person.firstName}
              onChange={handleChange}
            />
          </div>
          <div className='form-control'>
            <label htmlFor='email'>Email : </label>
            <input
              type='email'
              id='email'
              name='email'
              value={person.email}
              onChange={handleChange}
            />
          </div>

          <div className='form-control'>
            <label htmlFor='age'>Age : </label>
            <input
              type='text'
              id='age'
              name='age'
              value={person.age}
              onChange={handleChange}
            />
          </div>
          <button type='submit' onClick={handleSubmit}>
            add person
          </button>
        </form>
        {people.map((person, index) => {
          const { id, firstName, email } = person;
          return (
            <div className='item' key={id}>
              <h4>{firstName}</h4>
              <p>{email}</p>
            </div>
          );
        })}
      </article>
    </>
  );
};

export default ControlledInputs;
```

Ïö∞ÏÑ† ÏúÑÏôÄ Í∞ôÏùÄ ÏΩîÎìúÎ•º Î≥º Ïàò ÏûàÎã§.

inputÏóê valueÏôÄ name propertyÍ∞Ä ÏûàÎã§.  
onChange ÏïàÏóêÎäî handleChangeÎùºÎäî Ìï®ÏàòÍ∞Ä Ï°¥Ïû¨ÌïúÎã§.  
handleChangeÎùºÎäî Ìï®ÏàòÎäî event.target.valueÏôÄ e.target.nameÏùÑ ÏΩòÏÜîÏóê Ï∞çÎäîÎã§.
handleChangeÎùºÎäî Ìï®ÏàòÍ∞Ä Í∞Å input Ìï≠Î™©Ïóê ÏûáÍ∏∞ ÎïåÎ¨∏Ïóê
ÌÖçÏä§Ìä∏Î•º inputÏóê ÏûÖÎ†•ÌñàÏùÑ Îïå, Ïñ¥Îñ§ inputÏ∞ΩÏù∏ÏßÄÏôÄ Ïñ¥Îñ§ Í±∏ ÏûÖÎ†•ÌñàÎäîÏßÄÎ•º Í∞ÄÏ†∏Ïò¨ Ïàò ÏûàÍ≤å ÎêúÎã§.

dynamic object properties

```jsx
const [person, setPerson] = useState({ firstName: '', email: '', age: '' });
const [people, setPeople] = useState([]);
const handleChange = e => {
  const name = e.target.name;
  const value = e.target.value;
  setPerson({ ...person, [name]: value });
  //setPerson({..person, firstName: value})
  console.log(name, value);
};
```

// ÏïàÏóê ÏûàÎäî Í≤ÉÏùÄ Îã§Ïù¥ÎÇòÎØπ ÌïòÏßÄ ÏïäÏùÄ Í≤ÉÏù¥Í≥†
ÏúÑÏùò ÏûëÏÑ±Îêú Ìï®ÏàòÎäî Îã§Ïù¥ÎÇòÎØπÌïòÍ≤å ÎêòÏñ¥ ÏûàÎã§.

```jsx
const handleSubmit = e => {
  e.preventDefault();
  if (person.firstName && person.email && person.age) {
    const newPerson = { ...person, id: new Date().getTime().toString() };
    setPeople([...people, newPerson]);
    setPerson({ firstName: '', email: '', age: '' });
  }
};
```

handle Change Î°ú personÏù¥ÎùºÎäî Í∞ùÏ≤¥Ïóê ÏûÖÎ†•Í∞íÏùÑ Îã¥ÎäîÎã§.
handleSubmitÏúºÎ°úÎäî ÎßåÏïΩÏóê ÏûÖÎ†•Î∞õÏùÄ personÏùò Ï∞ΩÏóê name email ageÍ∞Ä Îã§ ÏûÖÎ†•Îê¨Îã§Î©¥,
newPersonÏù¥ÎùºÎäî Í∞ùÏ≤¥Î•º ÎßåÎì§Ïñ¥ÏÑú Í∏∞Ï°¥Ïóê personÍ∞íÏùÑ Í∑∏ÎåÄÎ°ú Í∞ÄÏ†∏Ïò® ÏÉÅÌÉúÎ°ú idÎ•º ÌòÑÏû¨ ÏãúÍ∞ÑÏùÑ Ï∂îÍ∞ÄÌï¥Ï§ÄÎã§.
PeopeÏóêÎèÑ ÎßàÏ∞¨Í∞ÄÏßÄÎ°ú Í∏∞Ï°¥ Í∞íÏóêÎã§Í∞Ä newPersonÏùÑ Ï∂îÍ∞ÄÌï¥Ï§ÄÎã§.
Í∑∏Î¶¨Í≥† personÏùÑ Î¶¨ÏÖãÌïúÎã§.

ÏÇ¨Ïã§ ÏúÑ Í≥ºÏ†ïÏóêÏÑú

```jsx
const handleSubmit = e => {
  e.preventDefault();
  setPeople([...people, person]);
  setPerson({ firstName: '', email: '', age: '' });
};
```

newPersonÎ•º ÏÉàÎ°ú ÎßåÎì§Ïñ¥ÏÑú idÍ∞íÏùÑ Ï∂îÍ∞ÄÌï¥Ï§Ñ ÌïÑÏöîÎäî ÏóÜÎã§.

# üöÄ UseRef

```jsx
import React, { useEffect, useRef } from 'react';

// preserves value
// DOES NOT trigger re-render
// target DOM nodes/elements

const UseRefBasics = () => {
  const refContainer = useRef(null);
  const divContainer = useRef(null);
  const handleSubmit = e => {
    e.preventDefault();
    console.log(refContainer.current.value);
    console.log(divContainer.current);
  };
  useEffect(() => {
    console.log(refContainer.current);
    refContainer.current.focus();
  });
  return (
    <>
      <form className='form' onSubmit={handleSubmit}>
        <div>
          <input type='text' ref={refContainer} />
          <button type='submit'>Submit</button>
        </div>
      </form>
      <div ref={divContainer}>hello world</div>
    </>
  );
};

export default UseRefBasics;
```

useRefÎäî Î∞îÎÄåÏñ¥ÎèÑ Î†åÎçîÎßÅÎêòÏßÄ ÏïäÎäîÎã§.
